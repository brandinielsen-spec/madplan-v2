---
phase: 01-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - madplan-v2/package.json
  - madplan-v2/src/app/globals.css
  - madplan-v2/src/app/layout.tsx
  - madplan-v2/src/lib/utils.ts
  - madplan-v2/components.json
  - madplan-v2/src/components/ui/button.tsx
  - madplan-v2/src/components/ui/card.tsx
  - madplan-v2/src/components/ui/tabs.tsx
  - madplan-v2/src/components/ui/sheet.tsx
  - madplan-v2/src/components/ui/badge.tsx
  - madplan-v2/src/components/ui/skeleton.tsx
autonomous: true

must_haves:
  truths:
    - "Next.js dev server starts without errors"
    - "Tailwind utility classes apply correctly"
    - "Earth tone colors are available as Tailwind classes"
    - "shadcn/ui Button component renders with correct styling"
    - "Nunito and Poppins fonts load and display"
  artifacts:
    - path: "madplan-v2/package.json"
      provides: "Project dependencies"
      contains: "next"
    - path: "madplan-v2/src/app/globals.css"
      provides: "Tailwind theme with earth tones"
      contains: "@theme"
    - path: "madplan-v2/src/app/layout.tsx"
      provides: "Root layout with fonts"
      contains: "Nunito"
    - path: "madplan-v2/src/components/ui/button.tsx"
      provides: "shadcn Button component"
      exports: ["Button"]
  key_links:
    - from: "madplan-v2/src/app/layout.tsx"
      to: "madplan-v2/src/app/globals.css"
      via: "CSS import"
      pattern: "import.*globals.css"
    - from: "madplan-v2/src/app/globals.css"
      to: "Tailwind utilities"
      via: "@theme inline"
      pattern: "@theme inline"
---

<objective>
Create Next.js project with Tailwind v4 and shadcn/ui, configured with earth tone color palette and custom fonts.

Purpose: Establish the foundational styling system that all components will use. This enables the warm, kitchen-like visual identity defined in the context.

Output: Working Next.js project with Tailwind + shadcn/ui, ready for component development.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-CONTEXT.md
@.planning/phases/01-foundation/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Next.js project with shadcn/ui</name>
  <files>
    madplan-v2/package.json
    madplan-v2/src/app/layout.tsx
    madplan-v2/src/app/page.tsx
    madplan-v2/src/app/globals.css
    madplan-v2/src/lib/utils.ts
    madplan-v2/components.json
    madplan-v2/src/components/ui/*.tsx
  </files>
  <action>
    1. Create Next.js project:
       ```bash
       npx create-next-app@latest madplan-v2 --typescript --tailwind --eslint --app --src-dir --import-alias "@/*" --yes
       ```

    2. Navigate to project and initialize shadcn/ui:
       ```bash
       cd madplan-v2
       npx shadcn@latest init --defaults
       ```
       Accept defaults (New York style, neutral base color - we override in globals.css)

    3. Add required shadcn components:
       ```bash
       npx shadcn@latest add button card tabs sheet badge skeleton
       ```

    Note: shadcn/ui CLI will create components.json and src/lib/utils.ts automatically.
  </action>
  <verify>
    - `cd madplan-v2 && npm run dev` starts without errors
    - Visit http://localhost:3000 shows Next.js default page
    - `ls src/components/ui/` shows button.tsx, card.tsx, tabs.tsx, sheet.tsx, badge.tsx, skeleton.tsx
  </verify>
  <done>
    Next.js project created with shadcn/ui initialized and 6 core components installed
  </done>
</task>

<task type="auto">
  <name>Task 2: Configure earth tone theme and fonts</name>
  <files>
    madplan-v2/src/app/globals.css
    madplan-v2/src/app/layout.tsx
  </files>
  <action>
    1. Replace globals.css with earth tone theme (from RESEARCH.md):
       - Import tailwindcss and tw-animate-css
       - Define @theme with sand, terracotta, and olive color palettes in OKLCH
       - Map semantic colors (:root) for shadcn compatibility
       - Add @theme inline to expose colors and fonts to Tailwind utilities
       - Add safe-area-inset support for mobile

    2. Update layout.tsx:
       - Import Nunito and Poppins from next/font/google
       - Configure font variables (--font-nunito, --font-poppins)
       - Apply font variables to html element
       - Set lang="da" for Danish
       - Add metadata: title "Madplan", description "Planlaeg ugens maaltider"
       - Add viewport config: width=device-width, initialScale=1, maximumScale=1, userScalable=false
       - Add themeColor matching terracotta-500 (#CB6843)
       - Add appleWebApp config for iOS

    Use the complete code examples from 01-RESEARCH.md sections:
    - "Complete globals.css for Madplan (Earth Tones)"
    - "Root Layout with Fonts and Metadata"
  </action>
  <verify>
    - `npm run dev` starts without CSS errors
    - Browser DevTools shows --font-nunito and --font-poppins CSS variables on html element
    - `bg-sand-100` class applies visible beige background
    - `text-terracotta-500` class applies visible terracotta color
    - `bg-primary` applies terracotta color (semantic mapping works)
    - Page title shows "Madplan" in browser tab
  </verify>
  <done>
    Earth tone color palette (sand, terracotta, olive) configured in globals.css with OKLCH values. Nunito and Poppins fonts loading via next/font. Semantic color mapping works with shadcn/ui.
  </done>
</task>

<task type="auto">
  <name>Task 3: Verify styling integration</name>
  <files>
    madplan-v2/src/app/page.tsx
  </files>
  <action>
    Create a simple test page to verify all styling works:

    Replace src/app/page.tsx with a component that displays:
    - A heading using font-heading class (should show Poppins)
    - Body text using default font-sans (should show Nunito)
    - A shadcn Button with default variant (should show terracotta/primary color)
    - A Card component with sand background
    - Color swatches showing sand, terracotta, and olive variants

    Example structure:
    ```tsx
    import { Button } from "@/components/ui/button";
    import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";

    export default function Home() {
      return (
        <main className="min-h-screen bg-background p-8">
          <h1 className="font-heading text-3xl font-bold text-foreground mb-4">
            Madplan
          </h1>
          <p className="text-muted-foreground mb-8">
            Test af styling - denne tekst bruger Nunito
          </p>

          <div className="flex gap-4 mb-8">
            <Button>Primary Button</Button>
            <Button variant="secondary">Secondary</Button>
            <Button variant="outline">Outline</Button>
          </div>

          <Card className="max-w-md">
            <CardHeader>
              <CardTitle className="font-heading">Test Card</CardTitle>
            </CardHeader>
            <CardContent>
              <p>Card content with earth tone styling</p>
            </CardContent>
          </Card>

          <div className="mt-8 flex gap-2">
            <div className="w-12 h-12 rounded bg-sand-200" title="sand-200" />
            <div className="w-12 h-12 rounded bg-sand-500" title="sand-500" />
            <div className="w-12 h-12 rounded bg-terracotta-500" title="terracotta-500" />
            <div className="w-12 h-12 rounded bg-olive-500" title="olive-500" />
          </div>
        </main>
      );
    }
    ```
  </action>
  <verify>
    - Visit http://localhost:3000
    - Heading shows rounded font (Poppins)
    - Body text shows different font (Nunito)
    - Primary Button has terracotta color
    - Card has slightly darker sand background
    - Color swatches show 4 distinct earth tone colors
    - No console errors in browser DevTools
  </verify>
  <done>
    Styling integration verified: fonts, colors, and shadcn components all work together with earth tone theme
  </done>
</task>

</tasks>

<verification>
After all tasks complete:

1. **Build check:**
   ```bash
   cd madplan-v2 && npm run build
   ```
   Should complete without errors

2. **Type check:**
   ```bash
   cd madplan-v2 && npx tsc --noEmit
   ```
   Should pass with no type errors

3. **Visual check:**
   - Open http://localhost:3000
   - Confirm earth tone colors visible
   - Confirm fonts are loading (not system fonts)
   - Confirm Button/Card components render correctly
</verification>

<success_criteria>
- Next.js 15 project created in madplan-v2/ directory
- Tailwind v4 configured with CSS-first @theme (no tailwind.config.js)
- Earth tone palette (sand, terracotta, olive) available as Tailwind utilities
- shadcn/ui initialized with 6 components (button, card, tabs, sheet, badge, skeleton)
- Nunito and Poppins fonts loading via next/font
- Semantic color mapping (primary, secondary, accent) works with shadcn components
- `npm run build` succeeds
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
