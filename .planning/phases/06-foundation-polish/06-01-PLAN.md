---
phase: 06-foundation-polish
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - madplan-v2/src/components/layout/mobile-nav.tsx
  - madplan-v2/src/app/page.tsx
  - madplan-v2/src/app/layout.tsx
  - madplan-v2/src/app/manifest.ts
  - madplan-v2/src/app/ugeplan/page.tsx
  - madplan-v2/src/app/indkob/page.tsx
  - madplan-v2/src/app/opskrifter/page.tsx
  - madplan-v2/src/app/tilfoej/page.tsx
  - madplan-v2/src/components/ugeplan/day-card.tsx
  - madplan-v2/src/components/ugeplan/recipe-picker.tsx
  - madplan-v2/src/components/import/url-import-form.tsx
  - madplan-v2/src/components/import/image-import.tsx
  - madplan-v2/src/components/import/recipe-form.tsx
  - madplan-v2/src/components/indkob/add-item-input.tsx
  - madplan-v2/src/components/opskrifter/tag-input.tsx
  - madplan-v2/src/components/opskrifter/favorite-button.tsx
  - madplan-v2/src/components/opskrifter/empty-state.tsx
autonomous: true

must_haves:
  truths:
    - "All UI text displays proper Danish characters (oe, ae, aa)"
    - "Bottom navigation shows 5 icons: Hjem, Ugeplan, Opskrifter, Tilfoej, Indkoeb"
    - "Home icon is first in navigation and links to /"
    - "Home icon active state works correctly (exact match, not prefix)"
  artifacts:
    - path: "madplan-v2/src/components/layout/mobile-nav.tsx"
      provides: "5-icon navigation with Home first"
      contains: "Home"
    - path: "madplan-v2/src/components/ugeplan/day-card.tsx"
      provides: "Correct day labels"
      contains: "Loerdag"
  key_links:
    - from: "mobile-nav.tsx"
      to: "/"
      via: "navItems array first element"
      pattern: 'href: "/".*icon: Home'
---

<objective>
Fix Danish character display and add Home icon to bottom navigation.

Purpose: BUG-06 and UI-02 are foundational issues affecting the entire app's usability and appearance. Danish users see incorrect characters, and there's no quick way to return home.

Output: All UI text shows proper Danish characters (oe, ae, aa). Bottom navigation has 5 icons with Home first.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/06-foundation-polish/06-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add Home icon to bottom navigation</name>
  <files>madplan-v2/src/components/layout/mobile-nav.tsx</files>
  <action>
Update mobile-nav.tsx to add Home as the first navigation item:

1. Import Home icon from lucide-react (add to existing import)
2. Add Home item as FIRST element in navItems array:
   { href: "/", icon: Home, label: "Hjem" }
3. Fix active state logic for home route - use exact match:
   ```typescript
   const isActive = href === "/"
     ? pathname === "/"
     : pathname.startsWith(href);
   ```
4. While editing, also fix Danish characters in labels:
   - "Tilfoej" stays as is (oe is correct in filename/route)
   - "Indkob" -> "Indkoeb" (display label only)

The flexbox layout (justify-around) already handles 5 items correctly.
  </action>
  <verify>
1. Run `npm run build` in madplan-v2 - should compile without errors
2. Visual check: navigation shows 5 icons in order: house, calendar, book, plus, cart
  </verify>
  <done>
Bottom navigation displays 5 icons: Hjem (Home), Ugeplan, Opskrifter, Tilfoej, Indkoeb.
Home icon links to "/" and shows active state only on home page.
  </done>
</task>

<task type="auto">
  <name>Task 2: Fix Danish characters across all UI files</name>
  <files>
madplan-v2/src/app/page.tsx
madplan-v2/src/app/layout.tsx
madplan-v2/src/app/manifest.ts
madplan-v2/src/app/ugeplan/page.tsx
madplan-v2/src/app/indkob/page.tsx
madplan-v2/src/app/opskrifter/page.tsx
madplan-v2/src/app/tilfoej/page.tsx
madplan-v2/src/components/ugeplan/day-card.tsx
madplan-v2/src/components/ugeplan/recipe-picker.tsx
madplan-v2/src/components/import/url-import-form.tsx
madplan-v2/src/components/import/image-import.tsx
madplan-v2/src/components/import/recipe-form.tsx
madplan-v2/src/components/indkob/add-item-input.tsx
madplan-v2/src/components/opskrifter/tag-input.tsx
madplan-v2/src/components/opskrifter/favorite-button.tsx
madplan-v2/src/components/opskrifter/empty-state.tsx
  </files>
  <action>
Replace ASCII approximations with proper Danish characters in USER-FACING STRINGS ONLY.

Character mapping:
- "oe" -> "oe" (U+00F8)
- "ae" -> "ae" (U+00E6)
- "aa" -> "aa" (U+00E5)
- "Oe" -> "Oe" (U+00D8)
- "Ae" -> "Ae" (U+00C6)
- "Aa" -> "Aa" (U+00C5)

CRITICAL: Only replace in:
- String literals in JSX text content
- String literals in label/placeholder/aria-label attributes
- String literals in object values like `label: "..."`

DO NOT replace in:
- Variable names (keep loerdag, soendag, etc.)
- File paths or route names (keep /indkob, /tilfoej)
- Import statements
- API field names

Specific replacements needed:
- "Tilfoej" -> "Tilfoej" (button labels, titles)
- "tilfoeje" -> "tilfoeje" (action text)
- "Indkob" -> "Indkoeb" (labels)
- "indkobsliste" -> "indkoebsliste" (labels)
- "proev" -> "proev" (try again text)
- "paa" -> "paa" (on/in text)
- "Soeg" -> "Soeg" (search)
- "soegning" -> "soegning" (search noun)
- "Vaelg" -> "Vaelg" (select/choose)
- "Lordag" -> "Loerdag" (Saturday)
- "Sondag" -> "Soendag" (Sunday)
- "Planlaeg" -> "Planlaeg" (plan)
- "maaltider" -> "maaltider" (meals)
- "paakraevet" -> "paakraevet" (required)
- "vaere" -> "vaere" (be)
- "Naeste" -> "Naeste" (next) - if present
  </action>
  <verify>
1. Run `npm run build` in madplan-v2 - should compile without TypeScript errors
2. Grep for remaining ASCII approximations: `grep -r "proev\|Tilfoej\|Indkob\|Lordag\|Sondag\|paakraevet" madplan-v2/src --include="*.tsx"`
   Should return no matches (or only matches in variable names like loerdag)
  </verify>
  <done>
All user-facing Danish text uses proper characters.
Day labels show "Loerdag" and "Soendag".
UI text shows "Tilfoej", "Indkoeb", "Soeg", "Vaelg", "proev", etc.
  </done>
</task>

</tasks>

<verification>
After completing both tasks:
1. `npm run build` passes in madplan-v2 directory
2. `npm run dev` shows app running at localhost:3000
3. Visual verification:
   - Home page shows "Planlaeg ugens maaltider" (not "Planlaeg ugens maaltider")
   - Bottom nav has 5 icons with "Hjem" first
   - Day cards show "Loerdag", "Soendag"
   - Search placeholders show "Soeg"
</verification>

<success_criteria>
- BUG-06: All UI text displays proper Danish characters
- UI-02: Bottom navigation shows 5 icons in correct order
- Build passes without errors
- No TypeScript errors introduced
</success_criteria>

<output>
After completion, create `.planning/phases/06-foundation-polish/06-01-SUMMARY.md`
</output>
